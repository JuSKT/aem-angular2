{"version":3,"sources":["../../src/main/content/jcr_root/apps/ngaem/components/content/ng-search/SearchSuggestions.ts"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;YAKA;gBAAgC,8BAAwB;gBAEpD,oBAAoB,IAAU;oBAA9B,YACI,iBAAO,SACV;oBAFmB,UAAI,GAAJ,IAAI,CAAM;;gBAE9B,CAAC;gBAEM,2BAAM,GAAb,UAAc,IAAY;oBAA1B,iBAWC;oBAVG,IAAI,CAAC,IAAI,CAAC,GAAG,CAAC,+BAA6B,IAAM,CAAC;yBACjD,GAAG,CAAC,UAAC,GAAa;wBACf,wCAAwC;wBACxC,IAAI,IAAI,GAAG,GAAG,CAAC,IAAI,EAAE,CAAC;wBACtB,IAAI,OAAwB,CAAC;wBAC7B,EAAE,CAAC,CAAC,IAAI,IAAI,IAAI,CAAC,aAAa,CAAC,CAAC,CAAC,CAAC;4BAC9B,OAAO,GAAG,IAAI,CAAC,aAAa,CAAC,CAAC,GAAG,CAAC,UAAC,OAAY,IAAK,OAAA,KAAI,CAAC,aAAa,CAAC,OAAO,CAAC,EAA3B,CAA2B,CAAC,CAAC;4BACjF,KAAI,CAAC,IAAI,CAAC,OAAO,CAAC,CAAC;wBACvB,CAAC;oBACL,CAAC,CAAC,CAAC,SAAS,EAAE,CAAC;gBACnB,CAAC;gBAEM,2BAAM,GAAb;oBACI,gBAAgB;gBACpB,CAAC;gBAEM,kCAAa,GAApB,UAAqB,IAAS;oBAC1B,EAAE,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC;wBACR,MAAM,CAAC,IAAI,CAAC;oBAChB,CAAC;oBACD,iDAAiD;oBACjD,MAAM,CAAC;wBACH,KAAK,EAAE,OAAO,IAAI,KAAK,QAAQ,GAAG,IAAI,GAAG,IAAI,CAAC,EAAE;qBAClC,CAAC;gBACvB,CAAC;gBACL,iBAAC;YAAD,CAhCA,AAgCC,CAhC+B,iBAAO,GAgCtC;;QAAA,CAAC","file":"SearchSuggestions.js","sourcesContent":["import { Http, Response } from \"@angular/http\";\nimport { Subject } from \"rxjs/Subject\";\n\nimport { CompleterService, CompleterData, CompleterItem } from 'ng2-completer';\n\nexport class CustomData extends Subject<CompleterItem[]> implements CompleterData {\n\n    constructor(private http: Http) {\n        super();\n    }\n\n    public search(term: string): void {\n        this.http.get(`/bin/search/suggestions?q=${term}`)\n        .map((res: Response) => {\n            // Convert the result to CompleterItem[]\n            let data = res.json();\n            let matches: CompleterItem[];\n            if (data && data['mySuggester']) {\n                matches = data['mySuggester'].map((episode: any) => this.convertToItem(episode));\n                this.next(matches);\n            }\n        }).subscribe();\n    }\n\n    public cancel() {\n        // Handle cancel\n    }\n\n    public convertToItem(data: any): CompleterItem | null {\n        if (!data) {\n            return null;\n        }\n        // data will be string if an initial value is set\n        return {\n            title: typeof data === \"string\" ? data : data.nm\n        } as CompleterItem;\n    }\n}"],"sourceRoot":"/src/main/content/jcr_root/apps/ngaem"}