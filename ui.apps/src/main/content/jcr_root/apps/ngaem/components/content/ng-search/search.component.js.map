{"version":3,"sources":["../../src/main/content/jcr_root/apps/ngaem/components/content/ng-search/search.component.ts"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;YAea,eAAe;gBAcxB,yBAAoB,UAAsB,EAAU,IAAU,EAAS,gBAAkC;oBAArF,eAAU,GAAV,UAAU,CAAY;oBAAU,SAAI,GAAJ,IAAI,CAAM;oBAAS,qBAAgB,GAAhB,gBAAgB,CAAkB;oBAbzG,eAAU,GAAU,IAAI,CAAC;oBACzB,sBAAiB,GAAU,gBAAgB,CAAC;oBAC5C,qBAAgB,GAAU,UAAU,CAAC;oBACrC,iBAAY,GAAU,MAAM,CAAC;oBAWzB,IAAI,EAAE,GAAG,IAAI,CAAC;oBACd,EAAE,CAAC,UAAU,GAAG,EAAE,CAAC,WAAW,CAAC,YAAY,CAAC,CAAC;oBAC7C,EAAE,CAAC,iBAAiB,GAAG,EAAE,CAAC,WAAW,CAAC,mBAAmB,CAAC,CAAC;oBAC3D,EAAE,CAAC,gBAAgB,GAAG,EAAE,CAAC,WAAW,CAAC,kBAAkB,CAAC,CAAC;oBACzD,EAAE,CAAC,YAAY,GAAG,EAAE,CAAC,WAAW,CAAC,cAAc,CAAC,CAAC;oBACjD,EAAE,CAAC,UAAU,GAAG,IAAI,8BAAU,CAAC,IAAI,CAAC,CAAC;gBACzC,CAAC;gBAED,kCAAQ,GAAR;oBACI,OAAO,CAAC,GAAG,CAAC,+BAA+B,CAAC,CAAC;gBACjD,CAAC;gBAEO,qCAAW,GAAnB,UAAoB,YAAmB;oBACnC,IAAI,EAAE,GAAG,IAAI,CAAC;oBACd,EAAE,CAAC,CAAC,YAAY,IAAI,EAAE,CAAC,UAAU,CAAC,aAAa,CAAC,YAAY,CAAC,YAAY,CAAC,CAAC,CAAC,CAAC;wBACzE,MAAM,CAAC,EAAE,CAAC,UAAU,CAAC,aAAa,CAAC,YAAY,CAAC,YAAY,CAAC,CAAC;oBAClE,CAAC;oBAAC,IAAI,CAAC,CAAC;wBACJ,MAAM,CAAC,EAAE,CAAC,KAAG,YAAc,CAAC,CAAC;oBACjC,CAAC;gBACL,CAAC;gBAED,gCAAM,GAAN,UAAO,UAAiB;oBACpB,IAAI,EAAE,GAAG,IAAI,CAAC;oBACd,MAAM,CAAC,EAAE,CAAC,IAAI,CAAC,GAAG,CAAC,mBAAiB,EAAE,CAAC,WAAW,6BAAwB,UAAU,GAAG,EAAI,CAAC,CAAC,SAAS,CAAC,UAAA,MAAM;wBACzG,OAAO,CAAC,GAAG,CAAC,MAAM,CAAC,CAAC;wBACpB,EAAE,CAAC,aAAa,GAAG,MAAM,CAAC,IAAI,EAAE,CAAC;wBACjC,EAAE,CAAC,aAAa,CAAC,KAAK,GAAG,IAAI,KAAK,EAAE,CAAC;wBACrC,GAAG,CAAC,CAAC,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,EAAE,CAAC,aAAa,CAAC,WAAW,EAAE,CAAC,EAAE,EAAE,CAAC;4BACpD,EAAE,CAAC,aAAa,CAAC,KAAK,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC;wBACnC,CAAC;oBACL,CAAC,CAAC,CAAC;gBACP,CAAC;gBAEL,sBAAC;YAAD,CAhDA,AAgDC,IAAA;YAhDY,eAAe;gBAJ3B,gBAAS,CAAC;oBACP,QAAQ,EAAE,QAAQ;oBAClB,WAAW,EAAE,sDAAsD;iBACtE,CAAC;iDAekC,iBAAU,EAAgB,WAAI,EAA2B,gCAAgB;eAdhG,eAAe,CAgD3B;;QAAA,CAAC","file":"search.component.js","sourcesContent":["import {Component, Input, ElementRef} from \"@angular/core\";\nimport {OnInit} from \"@angular/core\";\n\nimport { Http, Response }   from '@angular/http';\n\nimport { Observable } from 'rxjs/Observable';\nimport 'rxjs/add/operator/catch';\nimport 'rxjs/add/operator/map';\nimport { CompleterService, CompleterData } from 'ng2-completer';\nimport {CustomData} from './SearchSuggestions';\n\n@Component({\n    selector: 'search',\n    templateUrl: '/apps/ngaem/components/content/ng-search/search.html'\n})\nexport class SearchComponent implements OnInit {\n    goBtnLabel:String = \"Go\";\n    searchPlaceHolder:String = \"Search Content\";\n    previousBtnLabel:String = \"Previous\";\n    nextBtnLabel:String = \"Next\";\n    queryString:String;\n    numberOfResults:Number;\n    elapsedTime:Number;\n    numberPages:Number;\n    currentPage:Number;\n    searchResults: any;\n    suggestion: any;\n    dataRemote: CompleterData;\n\n    constructor(private elementRef: ElementRef, private http: Http, public completerService: CompleterService) {\n        let ci = this;\n        ci.goBtnLabel = ci.getProperty('goBtnLabel');\n        ci.searchPlaceHolder = ci.getProperty('searchPlaceHolder');\n        ci.previousBtnLabel = ci.getProperty('previousBtnLabel');\n        ci.nextBtnLabel = ci.getProperty('nextBtnLabel');\n        ci.dataRemote = new CustomData(http);\n    }\n\n    ngOnInit() {\n        console.log(\"TextAreaComponent initialized\");\n    }\n\n    private getProperty(propertyName:String) {\n        let ci = this;\n        if (propertyName && ci.elementRef.nativeElement.getAttribute(propertyName)) {\n            return ci.elementRef.nativeElement.getAttribute(propertyName);\n        } else {\n            return ci[`${propertyName}`];\n        }\n    }\n\n    search(pageNumber:number) {\n        let ci = this;\n        return ci.http.get(`/bin/search?q=${ci.queryString}&path=/content&start=${pageNumber * 10}`).subscribe(result => {\n            console.log(result);\n            ci.searchResults = result.json();\n            ci.searchResults.pages = new Array();\n            for (let i = 0; i < ci.searchResults.numberPages; i++) {\n                ci.searchResults.pages.push(i);\n            }\n        });\n    }\n\n}"],"sourceRoot":"/src/main/content/jcr_root/apps/ngaem"}